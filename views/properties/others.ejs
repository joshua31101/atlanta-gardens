<!DOCTYPE html>
<html lang="en">
<head>
  <% include ../partials/head %>
</head>
<body>
  <% include ../partials/header %>
  <div class="ui center">
    <h2 class="ui blue header">
      <div class="content">
        <h1>Others' Valid Properties</h1>
      </div>
    </h2>

    <table class="ui sortable celled table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Address</th>
          <th>City</th>
          <th>Zip</th>
          <th>Size</th>
          <th>Type</th>
          <th>Public</th>
          <th>Commercial</th>
          <th>ID</th>
          <th>Visits</th>
          <th>Avg Rating</th>
        </tr>
      </thead>
      <tbody>
        <% for (var i = 0; i < properties.length; i++) { %>
          <tr>
            <td><a href="/properties/view/<%= properties[i].ID %>"><%= properties[i].Name %></a></td>
            <td><%= properties[i].Street %></a></td>
            <td><%= properties[i].City %></td>
            <td><%= properties[i].Zip %></td>
            <td><%= properties[i].Size %></td>
            <td><%= properties[i].PropertyType %></td>
            <td><%= properties[i].IsPublic %></td>
            <td><%= properties[i].IsCommercial %></td>
            <td><%= properties[i].ID %></td>
            <td><%= properties[i].Visit_count %></td>
            <td><%= properties[i].Visit_rating ? properties[i].Visit_rating : 'N/A' %></td>
          </tr>
        <% } %>
      </tbody>
    </table>

    <div class="ui container">
      <label for="searchBy">Search by</label>
      <select id="searchBy" name="searchBy">
        <option value="">Select here</option>
        <option value="name">Name</option>
        <option value="city">City</option>
        <option value="type">Type</option>
        <option value="visit">Visit</option>
        <option value="rating">Rating</option>
      </select>
      <div class="ui icon input">
        <input type="text" placeholder="Search...">
        <i class="search link icon"></i>
      </div>
    </div>

  </div>

</body>

<script src="/js/jquery-tablesort.js" charset="utf-8"></script>
<script type="text/javascript">
  $(document).ready(function() {
    $('table').tablesort();
  });
</script>

</html>
